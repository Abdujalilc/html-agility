@page
@model QuillEditor.Pages.CKEditorTest.BasicQuillModel

@{
    ViewData["Title"] = "Home page";
}
<link href="~/editors/quill.snow.css" rel="stylesheet" />
<script src="~/editors/quill.js"></script>
<script src="~/editors/quill-image-resize-module.js"></script>
<style>
    .editor-container {
        width: 210mm;
        height: 297mm;
        border: 1px solid #ccc;
        margin: 0 auto;
        overflow: auto;
    }

    body, .ql-editor {
        font-family: Arial, sans-serif;
    }
</style>
<form id="quillForm" method="post">
    <button type="submit">Submit</button>
    <div class="editor-container">
        <div id="editor">
            @Html.Raw(Model.htmlTemplate)
        </div>
    </div>
    <input type="hidden" name="editorContent" id="editorContent" />
</form>

<script>
    let quill;
    window.onload = function () {
        Quill.register('modules/imageResize', Quill.import('modules/imageResize'));
        quill = new Quill('#editor', {
            theme: 'snow',
            modules: {
                toolbar: [['bold', 'italic', 'underline'], ['image'], [{ 'font': ['arial'] }]],
                imageResize: { modules: ['Resize'] }
            }
        });
        document.getElementById('quillForm').onsubmit = function () {
            document.getElementById('editorContent').value = quill.root.innerHTML;
        };
    };
</script>
